<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org" lang="ko"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorator="layout/default">

    <link rel="stylesheet" type="text/css" th:href="@{/css/theme.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/common.css}">
    <th:block layout:fragment="content">
        <!-- Begin 일반 게시물 -->
        <div class="app-body post-list">
            <main class="main">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                              <form th:action="@{/groups/detail}" th:object="${datas}" method="POST">
                                <div class="card">
                                    <div class="card-header">
                                        <th:block th:utext="Title"></th:block>
                                    </div>
                                    <div class="card-body">
                                        <div class="pt-3 overscroll-mobile ">
                                            <!-- Begin info -->
                                            <table class="table custom-table table-bordered w-250">
                                                <tbody>
                                                    <tr>
                                                        <td class="font-weight-bold">isActive<span class="red-point">*</span></td>
                                                        <td>
                                                            <div class="content-button d-flex align-items-center">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{usable}" id="usable-radio1" name="usable-check" 
                                                                                                             value="Y" class="custom-control-input"
                                                                                                             th:checked="${datas == null && (datas != null && #strings.equals(datas.usable, 'Y'))}">
                                                                    <label class="custom-control-label" for="usable-radio1">used</label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{usable}" id="usable-radio2" name="usable-check"
                                                                                                             value="N" class="custom-control-input"
                                                                                                             th:checked="${datas != null && #strings.equals(datas.usable, 'N')}">
                                                                    <label class="custom-control-label" for="usable-radio2">unused</label>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="font-weight-bold">Group type</td>
                                                        <td>
                                                            <div class="input-group">
                                                                <select class="form-control">
                                                                    <option value="0">Please select Type</option>
                                                                    <!-- <option th:each="type : ${datas.types}"
                                                                            th:text="${type.typeName}" 
                                                                            th:value="${type.typeId}"
                                                                            th:selected="${datas != null && datas.typeId != null 
                                                                                                            && #strings.equals(datas.typeId, #strings.toString(type.typeId))}"></option> -->
                                                                </select>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="font-weight-bold">Group name<span class="red-point">*</span></td>
                                                        <td colspan="3">
                                                            <div class="input-group">
                                                                <input type="text" name="groupname" class="form-control" id="groupName"
                                                                                   placeholder="Please input group name"
                                                                                   th:value="${datas.groupName}">
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="font-weight-bold">Group URL</td>
                                                        <td colspan="3">
                                                            <div class="input-group">
                                                                <input type="text" name="groupUrl" class="form-control"
                                                                                   placeholder="Please input url"
                                                                                   th:value="${datas.groupUrl}">
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="font-weight-bold">Private<span class="red-point">*</span></td>
                                                        <td>
                                                            <div class="content-button d-flex align-items-center">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{isPrivate}" id="usable-radio1" name="usable-check" 
                                                                                                             value="Y" class="custom-control-input"
                                                                                                             th:checked="${datas == null && (datas != null && #strings.equals(datas.isPrivate, 'Y'))}">
                                                                    <label class="custom-control-label" for="usable-radio1">private</label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{isPrivate}" id="usable-radio2" name="usable-check"
                                                                                                             value="N" class="custom-control-input"
                                                                                                             th:checked="${datas != null && #strings.equals(datas.isPrivate, 'N')}">
                                                                    <label class="custom-control-label" for="usable-radio2">public</label>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="font-weight-bold">Publish status<span class="red-point">*</span></td>
                                                        <td>
                                                            <div class="content-button d-flex align-items-center">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{isPublish}" id="usable-radio1" name="usable-check" 
                                                                                                             value="Y" class="custom-control-input"
                                                                                                             th:checked="${datas.isPublish != 'N'}">
                                                                    <label class="custom-control-label" for="usable-radio1">Temp</label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{isPublish}" id="usable-radio2" name="usable-check"
                                                                                                             value="N" class="custom-control-input"
                                                                                                             th:checked="${datas.isPublish == 'N'}">
                                                                    <label class="custom-control-label" for="usable-radio2">Publish</label>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="font-weight-bold">Lock status<span class="red-point">*</span></td>
                                                        <td>
                                                            <div class="content-button d-flex align-items-center">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{isLock}" id="usable-radio1" name="usable-check" 
                                                                                                             value="Y" class="custom-control-input"
                                                                                                             th:checked="${!#strings.equals(datas.isLock, 'N')}">
                                                                    <label class="custom-control-label" for="usable-radio1">Locked</label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{isLock}" id="usable-radio2" name="usable-check"
                                                                                                             value="N" class="custom-control-input"
                                                                                                             th:checked="${#strings.equals(datas.isLock, 'N')}">
                                                                    <label class="custom-control-label" for="usable-radio2">Open</label>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td class="font-weight-bold">Group closed status<span class="red-point">*</span></td>
                                                        <td>
                                                            <div class="content-button d-flex align-items-center">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{isClosed}" id="usable-radio1" name="usable-check" 
                                                                                                             value="Y" class="custom-control-input"
                                                                                                             th:checked="${!#strings.equals(datas.isClosed, 'N')}">
                                                                    <label class="custom-control-label" for="usable-radio1">Closed</label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" th:field="*{isClosed}" id="usable-radio2" name="usable-check"
                                                                                                             value="N" class="custom-control-input"
                                                                                                             th:checked="${#strings.equals(datas.isClosed, 'N')}">
                                                                    <label class="custom-control-label" for="usable-radio2">Open</label>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="font-weight-bold">Avatar<span class="red-point">*</span></td>
                                                        <td colspan="3">
                                                            <div class="text-left uploadImage">
                                                                <div class="input-group">
                                                                    <div class="custom-file text-left banner-thumbnail">
                                                                        <input type="file" class="custom-file-input" id="uploadThumbnailImage" name="filename" accept="image/jpg, image/jpeg, image/png, image/gif">
                                                                        <label class="custom-file-label banner" for="uploadThumbnailImage">Please select image</label>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="font-weight-bold">Keyword<span class="red-point">*</span></td>
                                                        <td colspan="3">
                                                            <div class="input-group">
                                                                <input type="text" id="keyword" class="form-control" placeholder="Please input keyword">
                                                                <div class="input-group-append">
                                                                    <button class="input-group-text" type="button" th:onclick="|insertKeyword()|" id="addKeyWords">Enroll</button>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr style="display:none;">
                                                        <td colspan="4" class="custom-tag register">
                                                            <div class="tag-wrap mt-2" id="listTagKeyWord">
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td class="font-weight-bold">Description</td>
                                                        <td colspan="3">
                                                            <div class="input-group">
                                                                <textarea placeholder="Input description" id="description" class="form-control" rows="5" cols="12">[[${datas.groupDescription}]]</textarea>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <!-- End info -->
                                        </div>
                                    </div>
                                    <!-- BEGIN table -->
                                    <div class="py-2 pt-3 overscroll-mobile">
                                        <th:block th:if="${datas.channels != null}">
                                            <table class="table table-striped table-hover" id="table-datas">
                                                <thead class="thead-light">
                                                    <tr class="table-row">
                                                        <th>No</th>
                                                        <th>Name</th>
                                                        <th>Lock status</th>
                                                        <th>Create date</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr class="table-row" th:each="data, index : ${datas.channels}" th:onclick="|window.location.href='/channels/detail/${data.id}'|">
                                                        <td th:text="${index.index + 1}" ></td>
                                                        <td>[[${data.channelName}]]</td>
                                                        <td>[[${data.lockStatus}]]</td>
                                                        <td>[[${data.createDate}]]</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <!-- End table -->
                                            <!-- BEGIN pagination -->
                                            <th:block th:if="${datas.channels.totalPages > 1}">
                                                <ul class="pagination justify-content-center mt-3 pb-3" th:with="startNumber=${T(Math).floor(datas.channels.number/10)} * 10 + 1,
                                                                                                                 endNumber=(${datas.channels.totalPages} > ${startNumber} + 9) 
                                                                                                                 ? ${startNumber} + 9 : ${datas.channels.totalPages}">
                                                    <li class="page-item" th:classappend="${datas.channels.number}">
                                                        <span class="page-link submit_btn" th:value="1"><em class="fa fa-angle-double-left"></em></span>
                                                    </li>
                                                    <li class="page-item" th:style="${datas.channels.first} ? 'display:none'">
                                                        <span class="page-link submit_btn" th:value="${channels.number}"><em class="fa fa-angle-left"></em></span>
                                                    </li>
                                                    <li class="page-item" th:each="page :${#numbers.sequence(startNumber, endNumber)}" th:class="(${page} == ${datas.channels.number} + 1) ? 'page-item active' : 'page-item'">
                                                        <span class="page-link submit_btn" th:value="${page}" th:text="${page}"></span>
                                                    </li>
                                                    <li class="page-item" th:style="${datas.channels.last} ? 'display:none'">
                                                        <span class="page-link submit_btn" th:value="${channels.number} + 2"><em class="fa fa-angle-right"></em></span>
                                                    </li>
                                                    <li class="page-item" th:classappend="${datas.channels.number}">
                                                        <span class="page-link submit_btn" th:value="${datas.channels.totalPages}"><em class="fa fa fa-angle-double-right"></em></span>
                                                    </li>
                                                </ul>
                                            </th:block>
                                        <!-- END pagination -->
                                        </th:block>
                                    </div>
                                    <!-- END table -->
                                    <div class="group-btn-bottom text-right mb-3">
                                        <th:block th:if="${datas.id == null || datas.id == ''}">
                                            <button class="btn btn-primary" type="submit">button.register</button>
                                        </th:block>
                                        <th:block th:if="${!#strings.isEmpty(datas.id)}">
                                            <button class="btn btn-primary" type="submit">button.modify</button>
                                        </th:block>
                                        <button class="btn btn-secondary" type="button" th:onclick="|window.location.href='@{/me/groups/management}'|">button.cancel</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </main>
        </div>
        <!-- Import javaScript. -->
        <!-- <div th:include="fragments/modal/oneButtonModal :: oneModal"></div> -->
        <script type="text/javascript" th:src="@{/pageJs/modal.js}"></script>
        <script type="text/javascript" th:src="@{/lib/jquery/jquery.min.js}"></script>
        <script type="text/javascript" th:src="@{/plugin/vendor.min.js}"></script>
        <script type="text/javascript" th:src="@{/pageJs/paging.js}"></script>
        <script th:inline="text" th:src="@{/pageJs/user-mng.js}"></script>
        <!-- END import javaScript. -->
    </th:block>
</html>